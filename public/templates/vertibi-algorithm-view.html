<div class="col-md-12 hidden" id="em-start-view">
 <div class="row">
    <div class="col-md-8">


      <table class="table table-bordered table-condensed table-striped">
        <tbody class="">
          <tr>
            <td class="cwm-green-glass">
              <h3>Run Viterbi Algorithm</h3>
              <p>
                Given a structure of the Hidden Markov Model (figure on the right), and a sequence of observations, consisting of Heads and Tails which are generated by two coins, one is balanced and the other is loaded, our task is to calculate the most probable sequence of states that could generate the input sequence of observations.
              </p>

              <h3>Instructions</h3>
              <p>
                This application will take initial parameters, in the form of two input files via the form below. It will then serve those initial parameters as input to the Viterbi algorithm. Your initial parameters, along with the output of the Viterbi algorithm, in the form of the Viterbi-calculated most probable sequence of states, will then be rendered on the screen for your inspection.
              </p>
            </td>
          </tr>
      </tbody>
      </table>






    </div>
    <div class="col-md-4">
        <table class="table table-bordered table-condensed table-striped">
          <tbody class="cwm-off-white-glass">
            <tr>
              <td class="start-screen-banner hmm-text-align-center">
                <img class="hmm-graph" src="img/hmm-graph-3d.png" />
              </td>
            </tr>
          </tbody>
        </table>
      </div>
  </div><!--row-->


<div class="row">
  <div class="col-md-4">
    <table class="table table-bordered table-condensed table-striped">
      <thead class="cwm-black-glass">
        <th>Upload Sensory and Transition Probability File</th>
      </thead>
      <tbody class="cwm-off-white-glass">
        <tr>
          <td class="start-screen-form-box">
            <output id="probability-file-list"></output>
          </td>
        </tr>
        <tr class="cwm-white-glass">
          <td>
            <div class="cwm-black-upload-btn pull-right hmm-upload-submit-btn" id="cwm-black-upload-btn1">
              <input type="file" id="probability-file"  name="files[]"/>
              <output id="probability-file-list"></output>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <div class="col-md-4">
    <table class="table table-bordered table-condensed table-striped">
      <thead class="cwm-black-glass">
        <th>Upload Heads / Tails Observation Sequence File</th>
      </thead>
      <tbody class="cwm-off-white-glass">
        <tr>
          <td class="start-screen-form-box">
            <output id="observation-file-list"></output>
          </td>
        </tr>
        <tr class="cwm-white-glass">
          <td>
            <div class="cwm-black-upload-btn pull-right hmm-upload-submit-btn" id="cwm-black-upload-btn2">
              <input type="file" id="observation-file"  name="files[]"/>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <div class="col-md-4">
    <table class="table table-bordered table-condensed table-striped">
      <thead class="cwm-black-glass">
        <th>Submit Input Files</th>
      </thead>
      <tbody class="cwm-off-white-glass">
        <tr>
          <td class="start-screen-form-box">
           
          </td>
        </tr>
        <tr class="cwm-white-glass">
          <td><div class="cwm-submit-button pull-right" id="cwm-submit-button-start"></div></td>
        </tr>
      </tbody>
    </table>
  </div>
</div><!--row-->

<div class="row cwm-white-glass">
  <h4 id="hmm-file-submit-error-msg" class="hidden text-danger pull-right">One or more input files are missing or contain errors</h4>
</div>
</div><!--col-md-12--> 


<div class="col-md-12  preview-screen-stats" id="em-results-view">
 <div class="row">
    <div class="col-md-8">
      <table class="table table-bordered table-condensed table-striped">
        <tbody class="">
          <tr>
            <td class="cwm-green-glass">
              <h3>Viterbi Algorithm Results</h3>
            </td>
          </tr>
      </tbody>
      </table>

      <table class="table table-condensed table-bordered cwm-black-glass" style="table-layout: fixed; word-wrap: break-word;">
			<caption>Initial Input Sensory and Transition Probabilities</caption>
		  <tbody>
		    <tr>
		      <td>P(B|B):</td>
		      <td><%= em_virtibi.get("generated_B_B") %></td>
		    </tr>
		    <tr>
		      <td>P(B|L):</td>
		      <td><%= em_virtibi.get("generated_B_L") %></td>
		    </tr>
		    <tr>
		      <td>P(L|L):</td>
		      <td><%= em_virtibi.get("generated_L_L") %></td>
		    </tr>
		    <tr>
		      <td>P(L|B):</td>
		      <td><%= em_virtibi.get("generated_L_B") %></td>
		    </tr>
		    <tr>
		    <tr>
		      <td>P(H|B):</td>
		      <td><%= em_virtibi.get("generated_H_B") %></td>
		    </tr>
		    <tr>
		      <td>P(T|B):</td>
		      <td><%= em_virtibi.get("generated_T_B") %></td>
		    </tr>
		    <tr>
		      <td>P(H|L):</td>
		      <td><%= em_virtibi.get("generated_H_L") %></td>
		    </tr>
		    <tr>
		      <td>P(T|L):</td>
		      <td><%= em_virtibi.get("generated_T_L") %></td>
		    </tr>
		      <td>
		      	<% if(probabilityFile.get("input").length) { %>
					Source: <span class="text-success"><%= probabilityFile.get("name") %></span>
				<% } else { %>
					Source: <span class="text-success">Initial Default Values</span>
				<% } %>
		      </td>
		      <td></td>
		    </tr>
		  </tbody>
		</table>

		<table class="table table-condensed table-bordered cwm-black-glass" style="table-layout: fixed; word-wrap: break-word;">
			<caption>Input Observation Sequence Source</caption>
			<tbody>
				<% if(em_virtibi.get("observationSequence").length) { %>
				<tr>
					<td>Observation Sequence <span class="text-success">(length: <%= em_virtibi.get("observationSequence").length %>)</span></td>
					<td><%= em_virtibi.get("observationSequence") %></td>
				</tr>
				<tr>
					<td>Source:  <span class="text-success"><%= observationFile.get("name") %></span></td>
					<td></td>
				</tr>			
				<% } else { %>
				<tr>
					<td>Generated Observation Sequence Length</td>
					<td><%= em_virtibi.get("generatedObservationSequence").length %></td>
				</tr>
				<tr>
					<td>Generated Observation Sequence</td>
					<td><%= em_virtibi.get("generatedObservationSequence") %></td>
				</tr>
				<tr>
					<td>Generated State Sequence</td>
					<td><%= em_virtibi.get("generatedStateSequence") %></td>
				</tr>
				<% } %>
			</tbody>
		</table>

    <table class="table table-condensed table-bordered cwm-black-glass" style="table-layout: fixed; word-wrap: break-word;">
      <caption>Viterbi Output: Most Probable Sequence of States</caption>
      <tbody>
        <tr>
          <td>Most Probable Sequence of States (<span class="text-success"><%= em_virtibi.get("stateSequence").length %></span>)</td>
          <td><%= em_virtibi.get("stateSequence") %></td>
        </tr>
       
      </tbody>
    </table>

    </div>
    <div class="col-md-4">
        <table class="table">
          <tbody class="cwm-off-white-glass">
            <tr class="preview-screen-stats">
              <td class="start-screen-banner hmm-text-align-center">
                <img class="hmm-graph" src="img/hmm-graph-3d.png" />
              </td>
            </tr>
            <tr>
              <td class="cwm-white-glass">
            	<div class="cwm-reset-button pull-right" id="cwm-reset-button-em-preview"></div>
			  </td>
			 </tr>
          </tbody>
        </table>
      </div>
  </div><!--row-->	

</div>

  